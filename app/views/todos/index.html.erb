<h1>Task List</h1>

<%= form_tag create_todo_path, :method => 'put' do %>
  <div class="input-group">
    <%= text_field_tag 'todo[description]', nil, :class => 'form-control' %>
    <span class="input-group-btn">
      <%= button_tag :class => 'btn btn-default' do %>
        New Task
      <% end %>
    </span>
  </div>
<% end %>

<table class="table table-striped table-bordered" style="margin-top:50px;">
  <thead>
    <tr>
      <th>Completed</th>
      <th>Description</th>
      <th>Delete</th>
    </tr>
  </thead>

  <tbody>
    <% @todos.each do |todo| %>
      <tr>
        <td>
          <%= form_tag toggle_todo_path(todo), :method => 'put' do %>
            <%= button_tag :style => 'border:None;background:None;' do %>
              <% if todo.completed %>
                <span class="glyphicon glyphicon-check"></span>
              <% else %>
                <span class="glyphicon glyphicon-unchecked"></span>
              <% end %>
            <% end %>
          <% end %>
        </td>
        <td><%= todo.description %></td>
        <td><%= link_to "Delete", destroy_todo_path(todo), :method => :delete, class: "btn btn-danger", :confirm => "Are you sure?"%></td>
      </tr>
    <% end %>
  </tbody>
</table>
